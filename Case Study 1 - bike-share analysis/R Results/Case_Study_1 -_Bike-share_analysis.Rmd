---
title: "Case Study 1: Bike-Share Analysis"
author: "Matt Johnson"
email: "matt.johnson0304@gmail.com"
linkedin: "https://www.linkedin.com/in/matt-johnson0304/"
date: "2023-06-21"
output: html_document
---


## Introduction:

Welcome to my Cyclistic bike-share analysis case study. Here, we will tackle real-world challenges faced by Cyclistic, a bike-share 
company based in Chicago. Throughout this study, we will follow the data analysis process to answer key business questions and develop 
actionable insights.


### Deliverables:

The company's director of marketing, Lily Moreno, believes that the future success of Cyclistic relies on maximizing the number of annual
memberships. To achieve this, we aim to understand the differences in behavior between casual riders and annual members and leverage 
these insights to design a new marketing strategy. We need to:

1. Gain a comprehensive understanding of the distinct behaviors and preferences exhibited by annual members and casual riders.

2. Develop an innovative and targeted marketing strategy that effectively converts casual riders into loyal annual members.

3. Strengthen our thesis and marketing recommendations by supporting them with compelling data insights and professional data 
visualizations.


### Assumptions and Theories:

Based on the information provided, we can make some initial assumptions and theories. We may assume that annual members and casual riders 
exhibit distinct patterns in bike usage, ride duration, and frequency. Theorizing that annual members, being more committed, would have 
longer average ride durations and a higher usage frequency compared to casual riders, we also speculate that factors such as 
cost-effectiveness, convenience, carbon footprint awareness, and exclusive benefits may motivate casual riders to transition 
into annual members.


## Problem:

Three questions will guide the future marketing program:

1. How do annual members and casual riders use Cyclistic bikes differently?

2. Why would casual riders buy Cyclistic annual memberships?

3. How can Cyclistic use digital media to influence casual riders to become members?

<strong>Our specifically assigned task is only to answer question number one. 
<em>"How do annual members and casual riders use Cyclistic bikes differently?"</em> The rest are handled by other team members </strong>


### Ask:

We will produce a report with the following deliverables:

<strong> 1. A clear statement of the business task </strong>

Our overarching goal is to drive the conversion of casual riders into devoted annual members, foster long-term loyalty, 
and maximize the growth of Cyclistic.

<strong> 2. A description of all data sources used </strong>

We will use Cyclisticâ€™s historical trip data to analyze and identify trends. Our analysis will be based on the last annual cycle, 
from April 2022 to May 2023. The data has been made available by Motivate International Inc. under this [License](https://ride.divvybikes.com/data-license-agreement).

<strong> 3. Documentation of any cleaning or manipulation of data </strong>

All Excel, SQL, and R cleaning and manipulation are found in the [GitHub Portfolio repository "Case Study 1: bike-share analysis"](https://github.com/MjxSjx/Portfolio/tree/main/Case%20Study%201%20-%20bike-share%20analysis) in extensive detail.

<strong> 4. A summary of your analysis </strong>

Annually, members ride more frequently than casual users, with a 34.7% higher ride frequency. Tuesday to Thursday are the most popular
days for members, suggesting a regular weekday commuting pattern. Both members and casual users ride most often between 3-6p.m., 
indicating high demand during the late afternoon hours. The top start and end stations for members are Kingsbury and Kinzie St., while 
casual users prefer Streeter Dr. and Grand Ave. Casual users predominantly ride on Saturday and Sunday, indicating a preference for 
weekends.

Casual users ride 33% longer distances on average compared to members, potentially indicating a preference for longer rides or exploring 
different destinations. July records the highest ridership, while December has the lowest, possibly due to weather conditions and 
holiday-related factors. Saturday is the most popular day of the week across all users and the only day casual users slightly surpass
members in usage.

<strong> 5. Supporting visualizations and key findings </strong>

All Excel, SQL, and R-supporting visualizations are found in the [GitHub Portfolio repository "Case Study 1: bike-share analysis"](https://github.com/MjxSjx/Portfolio/tree/main/Case%20Study%201%20-%20bike-share%20analysis) in extensive detail, 
and Tableau at [Case Study 1: Bike-share analysis](https://public.tableau.com)

<strong> 6. Your top three recommendations based on your analysis </strong>

1. Focus on targeted marketing that increases awareness of membership benefits and offers special deals in locations where casual users
are most prevalent, increasing marketing results while decreasing expenditure. 
  
2. Create incentives to encourage casual riders to make the switch. With angles such as reducing one's carbon footprint, saving money,
and increasing one's health span with low impact physical activity.
  
3. Create targeted surveys for all user types to answer to gain more insight using data-driven user type hotspots.


## Solution:

In truth, the solution is beyond our assigned task. Any implications are nothing more than speculation without answering the other two
stakeholder questions. However, what our question can tell you are facts about the difference between annual members and causal riders.
With that said, from May 2022 to April 2023:

* Members ride 34.7% more often than casual users
* Members average ride duration was 12 minutes and 14 seconds
* Members most often ride from Tuesday to Thursday and weekdays in general
* Members top start and end stations are located at Kingsbury and Kinzie St.
* Members prefer our classic bikes at a rate of 63.8% of all their rentals. A distant second are electric bikes at 36.2%
* Casual users top start and end stations are located at Streeter Dr. and Grand Ave.
* Casual users most often ride on Saturdays and weekends in general
* Casual users ride 53.1% longer than members on average
* Casual users average ride duration was 23 minutes and 2 seconds
* Casual users prefer the weekends, while members prefer the weekdays
* Casual users prefer our classic bikes at a rate of 49.6% of all their rentals. A close second are electric bikes at 41%
* Both members and casual users most often ride between 3-6 p.m
* Both members and casual riders use our classic bike as their top rental
* Both members and casual riders prefer the months between April and October
* July was our most popular month, with December being the least popular
* Saturday was the most popular day of the week and the only day casual users exceeded members in usage, but just barely

### Excel Results
[Excel](https://github.com/MjxSjx/Portfolio/blob/main/Case%20Study%201%20-%20bike-share%20analysis/Excel%20Results/Case%20Study%201%20-%20Excel%20Results.PNG)

### Over 30 SQL Query Results
[SQL](https://github.com/MjxSjx/Portfolio/tree/main/Case%20Study%201%20-%20bike-share%20analysis/SQL%20Results)

### R Results
Present in this Rmd file at the bottom of the page

### Additional R Results graphed in Excel
[R Results in Excel](https://github.com/MjxSjx/Portfolio/blob/main/Case%20Study%201%20-%20bike-share%20analysis/R%20Results/R_Export_Summary_File_Results_in_Excel.PNG)

### Tableau Visualization Analysis
[Tableau](https://public.tableau.com)


## Conclusion:

Analysis of the data gave us several key insights. Members ride more frequently than casual users, showing a clear preference for
weekdays, which peak on Wednesdays. They also tend to ride during the late afternoon hours, indicating a commuting pattern. The top start
and end stations for members are Kingsbury and Kinzie St., suggesting a concentrated area of member activity that gives us an opportunity
to create targeted surveys to gain valuable insights specifically about what makes our services worth the annual membership to them.

Casual users exhibit different preferences. They ride less frequently but for longer distances, with a preference for weekends, which
peak on Saturdays. Their top start and end stations are located at Streeter Dr. and Grand Ave., indicating a different area of interest
compared to annual members. Also, allowing for targeted advertising to casual riders.

All of these findings highlight the importance of understanding the distinct behaviors and preferences of members and casual users. 
By discovering this information, Cyclistic can tailor our strategies to better serve these different user types. Cyclistic can optimize
station placements, adjust operational schedules to accommodate peak times, and design targeted marketing campaigns to attract and retain
both annual members and casual riders. All of this can enhance the overall user experience and lead to greater customer satisfaction
while bringing Cyclistic sustain growth. This data-driven analysis demonstrates the power of leveraging information to make informed
decisions, driving continual growth, and ensuring the success of Cyclistic.


## Next steps:

<ol>

<li> We should collaborate with the rest of the team and bring together their insights from the questions Lily Moreno assigned them. 
Then I would suggest we consider running promotions targeted at casual users and utilizing targeted advertising in their most frequent
locations. </li>


<li> I would suggest gaining additional data from all users by creating surveys for each type that they receive via email or after a
purchase, which would preferably include: </li>

* Preferred payment options: Investigate whether annual members and casual riders have preferences for specific payment options, 
such as credit cards, mobile apps, or in-person payments.

* Demographic factors: Explore if there are any demographic differences between annual members and casual riders, such as age, gender,
or income level, that could influence their bike usage behavior.

* Purpose of rides: Examine the purpose of bike rides for annual members and casual riders. Do annual members primarily use bikes for
commuting, while casual riders use them for leisure or recreational purposes?


With all that new data, create user-specific marketing, such as:

* Develop targeted marketing campaigns for members and casual users separately. Highlight the convenience, cost-effectiveness, and
environmental benefits of membership to attract and retain members. For casual users, emphasize the flexibility and leisurely experience
and create promotions to encourage weekday ridership.

* Seasonal Promotions: Capitalize on the popularity of July by introducing special promotions, such as discounted membership rates,
extended riding hours, or partnerships with local events and attractions. Additionally, for December, consider offering holiday-themed
incentives, such as festive decorations, seasonal rides, or charity initiatives, to engage riders and increase usage.


<li>  Lastly, I would continuously monitor and analyze rider data to identify emerging trends, patterns, and areas for improvement. 
This will enable the bike-sharing program to make informed decisions and adapt strategies to evolving user needs. </li>

</ol>

By implementing these recommendations, Cyclistic can foster a more personalized and enjoyable experience for both members and casual
users. This tailored approach will not only attract new riders but also increase rider loyalty and engagement, leading to sustainable
growth and a competitive edge in the market.

The proposed solutions gained from data analysis aim to enhance marketing efficiency by utilizing targeted strategies in advertising and
surveys for each respective user type. Cylistic can position itself for sustained growth while fostering a positive impact on the
community and promoting sustainable transportation.



```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r Install package, include=FALSE}
#install.packages("tidyverse")
```


```{r Load package, include=FALSE}
library(tidyverse)
```


``` {r Upload datasets, include=FALSE}
db1 <- read_csv("202205-tripdata.csv")
db2 <- read_csv("202206-tripdata.csv")
db3 <- read_csv("202207-tripdata.csv")
db4 <- read_csv("202208-tripdata.csv")
db5 <- read_csv("202209-tripdata.csv")
db6 <- read_csv("202210-tripdata.csv")
db7 <- read_csv("202211-tripdata.csv")
db8 <- read_csv("202212-tripdata.csv")
db9 <- read_csv("202301-tripdata.csv")
db10 <- read_csv("202302-tripdata.csv")
db11 <- read_csv("202303-tripdata.csv")
db12 <- read_csv("202304-tripdata.csv")
```


``` {r Stack individual data frames into one big data frame}
all_trips <- bind_rows(db1,db2,db3,db4,db5,db6,db7,db8,db9,db10,db11,db12)
```


``` {r Remove lat and long}
all_trips <- all_trips %>% select(-c(start_lat, start_lng, end_lat, end_lng))
```


``` {r Making ride_length the col_type the instructions want}
all_trips$ride_length <- as.numeric(as.POSIXlt(all_trips$ride_length, format = "%H:%M:%S"))
```


``` {r Inspect the new table that has been created}
colnames(all_trips)  #List of column names
nrow(all_trips)  #How many rows are in data frame?
dim(all_trips)  #Dimensions of the data frame?
head(all_trips)  #See the first 6 rows of data frame.  Also tail(all_trips)
str(all_trips)  #See list of columns and data types (numeric, character, etc)
summary(all_trips)  #Statistical summary of data. Mainly for numerics
```


```{r Add columns that list the date, month, day, and year of each ride}
all_trips$date <- as.Date(all_trips$started_at, format = "%m/%d/%Y %H:%M") 
all_trips$month <- format(as.Date(all_trips$date), "%m")
all_trips$day <- format(as.Date(all_trips$date), "%d")
all_trips$year <- format(as.Date(all_trips$date), "%Y")
all_trips$day_of_week <- format(as.Date(all_trips$date), "%A")
```


``` {r Remove "bad" data}
all_trips_v2 <- all_trips[!(all_trips$start_station_name == "HQ QR" | all_trips$ride_length<0),]
```


``` {r Descriptive analysis on ride_length (all figures in seconds)}
mean(all_trips_v2$ride_length) 
median(all_trips_v2$ride_length) 
max(all_trips_v2$ride_length) 
min(all_trips_v2$ride_length)
```


``` {r You can condense the four lines above to one line using summary() on the specific attribute}
summary(all_trips_v2$ride_length)
```


``` {r Compare members and casual users}
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN = mean)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN = median)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN = max)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN = min)
```


``` {r the days of the week are out of order. we must fix that.}
all_trips_v2$day_of_week <- ordered(all_trips_v2$day_of_week, 
  levels=c("Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"))
```


``` {r See the average ride time by each day for members vs casual users rounded up to make it easier to understand} 
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual + all_trips_v2$day_of_week, FUN = function(x) round(mean(x), 2))
```


``` {r we must format "started_at" to utilize further investigations}
all_trips_v2 <- all_trips_v2 %>%
  mutate(started_at = as.POSIXct(started_at, format = "%m/%d/%Y %H:%M"))
```


``` {r analyze ridership data by type and weekday}
all_trips_v2 %>%
  mutate(weekday = wday(started_at, label = TRUE)) %>%
  group_by(member_casual, weekday) %>%
  summarise(
    number_of_rides = n(),
    average_duration = mean(ride_length)
  ) %>%
  arrange(member_casual, weekday)
```


``` {r visualize the number of rides by rider type}
all_trips_v2 %>%
  mutate(weekday = wday(started_at, label = TRUE)) %>%
  group_by(member_casual, weekday) %>%
  summarise(
    number_of_rides = n(),
    average_duration = mean(ride_length)
    ) %>%
  arrange(member_casual, weekday) %>%
  ggplot(aes(x = weekday, y = number_of_rides, fill = member_casual)) +
  geom_col(position = "dodge") +
  scale_y_continuous(labels = scales::comma) +
  labs(title = "Total Annual Rides by Weekday")
```


``` {r create a visualization for average duration in minutes}
all_trips_v2 %>%
  mutate(weekday = wday(started_at, label = TRUE)) %>%
  group_by(member_casual, weekday) %>%
  summarise(
    number_of_rides = n(),
    average_duration = mean(ride_length)
    ) %>%
  arrange(member_casual, weekday) %>%
  ggplot(aes(x = weekday, y = average_duration / 60, fill = member_casual)) +
  geom_col(position = "dodge") +
  scale_y_continuous(labels = scales::comma) +
  labs(title = "Average Annual Ride Duration by Weekday", y = "Average Duration (minutes)")
```


``` {r Create a csv file that we will visualize in Excel and Tableau, include=FALSE}
counts <- aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual + all_trips_v2$day_of_week, FUN = mean)

file_path <- "Your_destination/avg_ride_length.csv"

write.csv(counts, file = file_path, row.names = FALSE)
```
